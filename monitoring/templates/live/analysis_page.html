{% extends 'index.html' %}
{% load static %}
{% block content %}
    <!-- 핵심 테마 CSS (부트스트랩 포함) -->
    <link href="{% static 'css/analysis-page.css' %}" rel="stylesheet">
    <style>
        @media (min-width: 768px) {
            /* md 사이즈 이상일 때 */
            .custom-border {
                border-right: dotted;
                border-bottom: none;
            }
        }

        @media (max-width: 767.98px) {
            /* md 사이즈 미만일 때 */
            .custom-border {
                border-right: none;
                border-bottom: dotted;
            }
        }

        #loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #loading p {
            color: white;
            font-size: 1.5em;
        }

    </style>
    </head>
    <main class="mb-auto p-5">
        <section style="color: #73C5B7">
            <main class="p-3 contents-center container" style="height: 100%; border: dashed; border-radius: 0.5rem;">
                <h2 class="page-section-heading text-center text-uppercase mb-0" style="">실시간 분석 중</h2>
                <div class="row">
                    <div class="col-md-6 p-3 analysis-card border-md-end custom-border">
                        <div>
                            <div id="timer-container">
                                <span>{{ term }}분 간격으로 피드백</span>
                            </div>
                            <video autoplay muted id="preview" width="100%" height="50%"></video>
                            <br>
                            <div id="timer-container">
                                <div id="timer">
                                    <span id="elapsed-time">00:00:00</span><br>
                                </div>
                            </div>
                            <div class="button-center">
                                <div id="id" data-id="{{ id }}"></div>
                                <div id="term" data-term="{{ term }}"></div>
                                <div>
                                    <button id="record-button" class="record-button btn btn-primary btn-lg">강의시작
                                    </button>
                                </div>
                                <div>
                                    <button id="stop-button" class="stop-button btn btn-primary btn-lg pause-button">
                                        일시정지
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div> <!--분석차트1-->
                    <div class="col-md-6 p-3 analysis-card" style="border-radius: 0.6rem;">긍정부정이모티콘 나올 곳</div>
                    <!--분석차트2-->
                </div>
            </main>
        </section>
    </main>
    <div id="loading" style="display: none;">
        <p>로딩 중...</p>
    </div>
    <!-- Core theme JS-->
    <script src="{% static 'js/record.js' %}"></script>
    <script src="{% static 'js/navbar_current_page_underline_effect.js' %}"></script>
{% endblock %}