{% extends 'index.html' %}
{% load static %}

{% block content %}
    <!-- 핵심 테마 CSS (부트스트랩 포함) -->
    <link href="{% static 'css/report-page.css' %}" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <body>
    <main>
        <div class="mb-auto p-5 container contents-center">
            <section class="section-1" style="width: 100%">
                <h3>강의 정보</h3>
                <div class="lecture-content">
                    <div class="lecture-right">
                        <h4>강의 주제</h4>
                        <p>{{ lecture.topic }}</p>
                        <h4>강의자</h4>
                        <p>{{ lecture.user.name }}</p>
                    </div>
                    <div class="lecture-left">
                        <h4>강의 일자</h4>
                        <p>{{ lecture.datetime|date:"Y.m.d" }}</p>
                        <h4>강의 시간</h4>
                        <p>{{ time_diff }}분</p>
                    </div>
                </div>
            </section>

            <hr style="width: 100%">

            <div class="chart-content row contents-center">
                <div class="col-12 col-lg-6">
                    <canvas id="chart-left"></canvas>
                </div>
                <div class="col-12 col-lg-6">
                    <canvas id="chart-right"></canvas>
                </div>
            </div>

            <hr style="width: 100%">

            <section class="overall-feedback">
                <h4>피드백</h4>
                <div id="feedback-display" style="white-space: pre-wrap;">그래프 위에 마우스를 올려 피드백을 확인하세요.</div>
            </section>

        </div>
    </main>
    <script type="text/javascript">
        const reactions = JSON.parse('{{ reactions_json|safe }}');
    </script>

    <script src="{% static 'js/report-chart.js' %}"></script>
    <script src="{% static 'js/navbar_current_page_underline_effect.js' %}"></script>
{% endblock %}

